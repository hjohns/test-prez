import{_ as H,a as x}from"./Loading.vue.1b0e05ea.js";import{j as B,y as N,q as v,o as s,c as o,t as a,g as r,z as i,b as _,w as z,d as y,h as $,a as b,F as p,n as g,s as R,r as T,k as S,f as V}from"./entry.bcf69c92.js";import{a as j}from"./str.08505d9c.js";import{_ as D}from"./_plugin-vue_export-helper.c27b6911.js";import{u as E}from"./rdf.477be283.js";const O={style:{position:"relative"}},U={key:0,class:"text-h3 mb-5 mt-2"},q={style:{"white-space":"nowrap"}},I=["href","title"],M={key:1},P=["onClick"],A=["title"],G=B({__name:"List",props:{list:{},headerTitle:{},excludeFields:{},fields:{},info:{type:Boolean},links:{}},setup(C){const l=C,u=l.excludeFields?l.excludeFields:[/^prez:./],m=(l.fields?l.fields:Object.keys(l.list.listHeaders)).filter(t=>{for(const f in u)if(t.match(u[f]))return!!(l.fields&&l.fields.indexOf(t)>=0);return!0});return N(),(t,f)=>{const h=v("v-chip"),c=v("v-icon"),F=v("v-btn"),d=v("v-table"),L=H;return s(),o("div",O,[t.headerTitle&&t.list?(s(),o("div",U,a(r(j)(t.headerTitle,t.list)),1)):i("",!0),_(h,{variant:"flat",style:{position:"absolute",right:"0",top:"0"}},{default:z(()=>[y(a(t.list.header.label),1)]),_:1}),t.list?(s(),$(d,{key:1,theme:"dark"},{default:z(()=>[b("thead",null,[b("tr",null,[(s(!0),o(p,null,g(r(m),e=>(s(),o("th",q,[y(a(e in t.list.listHeaders?t.list.listHeaders[e].label:`${e} missing`)+" Â ",1),e in t.list.listHeaders?(s(),o("a",{key:0,href:t.list.listHeaders[e].iri,title:e},[_(c,{icon:"mdi-link"})],8,I)):i("",!0),t.info?(s(),o("div",M,a(e),1)):i("",!0)]))),256))])]),b("tbody",null,[(s(!0),o(p,null,g(t.list.list,e=>(s(),o("tr",{onClick:n=>typeof e["prez:link"]=="string"?t.$router.push(e["prez:link"]):null},[(s(!0),o(p,null,g(r(m),n=>(s(),o("td",null,[b("div",{title:n in e?e[n]:null,class:"td-max"},[n=="prez:link"?(s(!0),o(p,{key:0},g(typeof e[n]=="object"?e[n]:[e[n]],k=>(s(),$(F,{class:"mr-4 mb-1",to:k},{default:z(()=>[y(a(k),1)]),_:2},1032,["to"]))),256)):i("",!0),y(" "+a(n!="prez:link"?n in e?e[n]:`"${n}" not found`:""),1)],8,A)]))),256))],8,P))),256))])]),_:1})):i("",!0),_(L,{links:t.links},null,8,["links"])])}}});const J=D(G,[["__scopeId","data-v-c153ebd0"]]),Z=B({__name:"List",props:{dataUrl:{},headerTitle:{},excludeFields:{},fields:{},info:{type:Boolean}},setup(C){const l=C,u=E(),{loading:m,success:t,error:f,prez:h}=R(u),c=T(null),F=T(1),d=T(void 0);S(async()=>{await L()}),V();async function L(){if(await u.load(l.dataUrl,{params:{page:F.value}}),t.value)try{c.value=null,d.value=h.value.list(["skos:prefLabel","rdfs:label"])}catch(e){c.value=e.message}}return(e,n)=>{const k=J,w=x;return s(),o(p,null,[r(d)?(s(),$(k,{key:0,"header-title":e.headerTitle,list:r(d),fields:e.fields,"exclude-fields":e.excludeFields,info:e.info,links:r(h).headerLinks},null,8,["header-title","list","fields","exclude-fields","info","links"])):i("",!0),_(w,{loading:r(m),error:r(f)},null,8,["loading","error"]),_(w,{loading:!1,error:r(c)},null,8,["error"])],64)}}});export{Z as _};
